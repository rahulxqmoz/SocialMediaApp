{"ast":null,"code":"var _jsxFileName = \"H:\\\\SecondProject-DjangoReact\\\\frontend\\\\socialmedia-app\\\\src\\\\pages\\\\EditProfilePage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { BASE_URL } from '../config';\nimport { showErrorToast } from '../components/ErroToast';\nimport { showSuccessToast } from '../components/CustomToast';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { logout } from '../features/auth/userSlice';\nimport BioField from '../components/BioField';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EditProfilePage = () => {\n  _s();\n  const user = useSelector(state => state.user.user);\n  const token = useSelector(state => state.auth.token);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [originalData, setOriginalData] = useState({});\n  const [profileData, setProfileData] = useState({\n    username: '',\n    first_name: '',\n    email: '',\n    bio: '',\n    dob: '',\n    mobile: ''\n  });\n  const [passwordData, setPasswordData] = useState({\n    current_password: '',\n    new_password: '',\n    confirm_password: ''\n  });\n  const [errors, setErrors] = useState({\n    profile: {},\n    password: {}\n  });\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const response = await axios.get(`${BASE_URL}/api/users/profile/${user === null || user === void 0 ? void 0 : user.id}/`, {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setProfileData(response.data);\n        setOriginalData(response.data); // Save original data\n      } catch (err) {\n        setErrors(prevErrors => ({\n          ...prevErrors,\n          profile: {\n            message: 'An error occurred while fetching the profile.'\n          }\n        }));\n      }\n    };\n    if (user && token) fetchProfile();\n  }, [user, token]);\n  const handleProfileChange = e => {\n    setProfileData({\n      ...profileData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handlePasswordChange = e => {\n    setPasswordData({\n      ...passwordData,\n      [e.target.name]: e.target.value\n    });\n  };\n  const validateProfile = () => {\n    const errors = {};\n\n    // Username validation\n    if (!profileData.username.trim()) {\n      errors.username = 'Username cannot be empty or just spaces';\n    }\n\n    // First Name validation\n    if (!profileData.first_name.trim()) {\n      errors.first_name = 'First Name cannot be empty or just spaces';\n    }\n\n    // Date of Birth validation (Age must be 18 or above)\n    const userDob = new Date(profileData.dob);\n    const age = new Date().getFullYear() - userDob.getFullYear();\n    if (!profileData.dob) {\n      errors.dob = 'Date of birth is required';\n    } else if (age < 18) {\n      errors.dob = 'You must be at least 18 years old';\n    }\n\n    // Mobile number validation (Indian format)\n    const mobileRegex = /^[6-9]\\d{9}$/;\n    if (!profileData.mobile) {\n      errors.mobile = 'Mobile number is required';\n    } else if (!mobileRegex.test(profileData.mobile)) {\n      errors.mobile = 'Invalid mobile number';\n    }\n    return errors;\n  };\n  const validatePassword = () => {\n    const errors = {};\n\n    // Current Password validation\n    if (!passwordData.current_password) {\n      errors.current_password = 'Current password is required';\n    }\n\n    // New Password validation (strong password)\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\n    if (!passwordData.new_password) {\n      errors.new_password = 'New password is required';\n    } else if (!passwordRegex.test(passwordData.new_password)) {\n      errors.new_password = 'New password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character';\n    }\n\n    // Confirm password validation\n    if (passwordData.new_password !== passwordData.confirm_password) {\n      errors.confirm_password = 'Passwords do not match';\n    }\n    return errors;\n  };\n  const handleProfileSubmit = async e => {\n    e.preventDefault();\n\n    // Validate profile data\n    const profileErrors = validateProfile();\n    if (Object.keys(profileErrors).length > 0) {\n      setErrors(prevErrors => ({\n        ...prevErrors,\n        profile: profileErrors\n      }));\n      return;\n    }\n\n    // Filter out only changed fields\n    const changedData = Object.keys(profileData).reduce((acc, key) => {\n      if (profileData[key] !== originalData[key]) {\n        acc[key] = profileData[key];\n      }\n      return acc;\n    }, {});\n    if (Object.keys(changedData).length === 0) {\n      showErrorToast('No changes detected.');\n      return;\n    }\n    try {\n      await axios.patch(`${BASE_URL}/api/users/profile/update/`, changedData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      showSuccessToast('Profile updated successfully!');\n      setOriginalData(profileData);\n      setTimeout(() => {\n        navigate('/profile-detail');\n      }, 1000);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      if (((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) === 'Username already exists.') {\n        setErrors(prevErrors => ({\n          ...prevErrors,\n          profile: {\n            username: 'Username already exists.'\n          }\n        }));\n      } else {\n        setErrors(prevErrors => ({\n          ...prevErrors,\n          profile: {\n            message: 'An error occurred while updating the profile.'\n          }\n        }));\n      }\n    }\n  };\n  const handlePasswordSubmit = async e => {\n    e.preventDefault();\n\n    // Validate password data\n    const passwordErrors = validatePassword();\n    if (Object.keys(passwordErrors).length > 0) {\n      setErrors(prevErrors => ({\n        ...prevErrors,\n        password: passwordErrors\n      }));\n      return;\n    }\n    try {\n      await axios.patch(`${BASE_URL}/api/users/password/update/`, passwordData, {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      showSuccessToast('Password updated successfully!Please Login again!');\n      dispatch(logout());\n      setTimeout(() => {\n        navigate('/login');\n      }, 2000);\n    } catch (err) {\n      var _err$response2, _err$response2$data;\n      // Handle API error responses\n      if ((_err$response2 = err.response) !== null && _err$response2 !== void 0 && (_err$response2$data = _err$response2.data) !== null && _err$response2$data !== void 0 && _err$response2$data.detail) {\n        setErrors(prevErrors => ({\n          ...prevErrors,\n          password: {\n            message: err.response.data.detail\n          }\n        }));\n      } else {\n        setErrors(prevErrors => ({\n          ...prevErrors,\n          password: {\n            message: 'An error occurred while updating the password.'\n          }\n        }));\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-3xl mx-auto p-6 bg-white shadow-md rounded-md mt-8\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between mb-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-2xl font-semibold\",\n        children: \"Edit Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/profile\",\n        className: \"text-blue-500 hover:text-blue-700\",\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 7\n    }, this), errors.profile.message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-red-500 text-center mb-4\",\n      children: errors.profile.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleProfileSubmit,\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"username\",\n          value: profileData.username,\n          onChange: handleProfileChange,\n          className: \"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), errors.profile.username && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-sm\",\n          children: errors.profile.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"First Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"first_name\",\n          value: profileData.first_name,\n          onChange: handleProfileChange,\n          className: \"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), errors.profile.first_name && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-sm\",\n          children: errors.profile.first_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: profileData.email,\n          readOnly: true,\n          className: \"mt-1 p-2 block w-full border border-gray-300 rounded-md bg-gray-100 cursor-not-allowed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BioField, {\n        bio: profileData.bio,\n        handleProfileChange: handleProfileChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Date of Birth\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          name: \"dob\",\n          value: profileData.dob,\n          onChange: handleProfileChange,\n          className: \"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), errors.profile.dob && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-sm\",\n          children: errors.profile.dob\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Mobile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"mobile\",\n          value: profileData.mobile,\n          onChange: handleProfileChange,\n          className: \"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), errors.profile.mobile && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-sm\",\n          children: errors.profile.mobile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"px-4 py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600\",\n        children: \"Update Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handlePasswordSubmit,\n      children: [errors.password.message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-500 text-center mb-4\",\n        children: errors.password.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Current Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"current_password\",\n          value: passwordData.current_password,\n          onChange: handlePasswordChange,\n          className: \"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), errors.password.current_password && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-sm\",\n          children: errors.password.current_password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"new_password\",\n          value: passwordData.new_password,\n          onChange: handlePasswordChange,\n          className: \"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), errors.password.new_password && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-sm\",\n          children: errors.password.new_password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700\",\n          children: \"Confirm New Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"confirm_password\",\n          value: passwordData.confirm_password,\n          onChange: handlePasswordChange,\n          className: \"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), errors.password.confirm_password && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-red-500 text-sm\",\n          children: errors.password.confirm_password\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"px-4 py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600\",\n        children: \"Change Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 207,\n    columnNumber: 5\n  }, this);\n};\n_s(EditProfilePage, \"PGEO7w8kQsrP9BTp/78YcFomWX4=\", false, function () {\n  return [useSelector, useSelector, useNavigate, useDispatch];\n});\n_c = EditProfilePage;\nexport default EditProfilePage;\nvar _c;\n$RefreshReg$(_c, \"EditProfilePage\");","map":{"version":3,"names":["React","useState","useEffect","axios","useDispatch","useSelector","BASE_URL","showErrorToast","showSuccessToast","Link","useNavigate","logout","BioField","jsxDEV","_jsxDEV","EditProfilePage","_s","user","state","token","auth","navigate","dispatch","originalData","setOriginalData","profileData","setProfileData","username","first_name","email","bio","dob","mobile","passwordData","setPasswordData","current_password","new_password","confirm_password","errors","setErrors","profile","password","fetchProfile","response","get","id","headers","Authorization","data","err","prevErrors","message","handleProfileChange","e","target","name","value","handlePasswordChange","validateProfile","trim","userDob","Date","age","getFullYear","mobileRegex","test","validatePassword","passwordRegex","handleProfileSubmit","preventDefault","profileErrors","Object","keys","length","changedData","reduce","acc","key","patch","setTimeout","_err$response","_err$response$data","detail","handlePasswordSubmit","passwordErrors","_err$response2","_err$response2$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","onSubmit","type","onChange","readOnly","_c","$RefreshReg$"],"sources":["H:/SecondProject-DjangoReact/frontend/socialmedia-app/src/pages/EditProfilePage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { BASE_URL } from '../config';\r\nimport { showErrorToast } from '../components/ErroToast';\r\nimport { showSuccessToast } from '../components/CustomToast';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { logout } from '../features/auth/userSlice';\r\nimport BioField from '../components/BioField';\r\n\r\nconst EditProfilePage = () => {\r\n  const user = useSelector((state) => state.user.user);\r\n  const token = useSelector((state) => state.auth.token);\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n  const [originalData, setOriginalData] = useState({});\r\n  const [profileData, setProfileData] = useState({\r\n    username: '',\r\n    first_name: '',\r\n    email: '',\r\n    bio: '',\r\n    dob: '',\r\n    mobile: '',\r\n  });\r\n\r\n  const [passwordData, setPasswordData] = useState({\r\n    current_password: '',\r\n    new_password: '',\r\n    confirm_password: '',\r\n  });\r\n\r\n  const [errors, setErrors] = useState({\r\n    profile: {},\r\n    password: {},\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const response = await axios.get(`${BASE_URL}/api/users/profile/${user?.id}/`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        setProfileData(response.data);\r\n        setOriginalData(response.data); // Save original data\r\n      } catch (err) {\r\n        setErrors((prevErrors) => ({\r\n          ...prevErrors,\r\n          profile: { message: 'An error occurred while fetching the profile.' },\r\n        }));\r\n      }\r\n    };\r\n\r\n    if (user && token) fetchProfile();\r\n  }, [user, token]);\r\n\r\n  const handleProfileChange = (e) => {\r\n    setProfileData({ ...profileData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handlePasswordChange = (e) => {\r\n    setPasswordData({ ...passwordData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const validateProfile = () => {\r\n    const errors = {};\r\n\r\n    // Username validation\r\n    if (!profileData.username.trim()) {\r\n      errors.username = 'Username cannot be empty or just spaces';\r\n    }\r\n\r\n    // First Name validation\r\n    if (!profileData.first_name.trim()) {\r\n      errors.first_name = 'First Name cannot be empty or just spaces';\r\n    }\r\n\r\n    // Date of Birth validation (Age must be 18 or above)\r\n    const userDob = new Date(profileData.dob);\r\n    const age = new Date().getFullYear() - userDob.getFullYear();\r\n    if (!profileData.dob) {\r\n      errors.dob = 'Date of birth is required';\r\n    } else if (age < 18) {\r\n      errors.dob = 'You must be at least 18 years old';\r\n    }\r\n\r\n    // Mobile number validation (Indian format)\r\n    const mobileRegex = /^[6-9]\\d{9}$/;\r\n    if (!profileData.mobile) {\r\n      errors.mobile = 'Mobile number is required';\r\n    } else if (!mobileRegex.test(profileData.mobile)) {\r\n      errors.mobile = 'Invalid mobile number';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const validatePassword = () => {\r\n    const errors = {};\r\n\r\n    // Current Password validation\r\n    if (!passwordData.current_password) {\r\n      errors.current_password = 'Current password is required';\r\n    }\r\n\r\n    // New Password validation (strong password)\r\n    const passwordRegex = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]{8,}$/;\r\n    if (!passwordData.new_password) {\r\n      errors.new_password = 'New password is required';\r\n    } else if (!passwordRegex.test(passwordData.new_password)) {\r\n      errors.new_password =\r\n        'New password must be at least 8 characters long and include at least one uppercase letter, one lowercase letter, one number, and one special character';\r\n    }\r\n\r\n    // Confirm password validation\r\n    if (passwordData.new_password !== passwordData.confirm_password) {\r\n      errors.confirm_password = 'Passwords do not match';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const handleProfileSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validate profile data\r\n    const profileErrors = validateProfile();\r\n    if (Object.keys(profileErrors).length > 0) {\r\n      setErrors((prevErrors) => ({ ...prevErrors, profile: profileErrors }));\r\n      return;\r\n    }\r\n\r\n    // Filter out only changed fields\r\n    const changedData = Object.keys(profileData).reduce((acc, key) => {\r\n      if (profileData[key] !== originalData[key]) {\r\n        acc[key] = profileData[key];\r\n      }\r\n      return acc;\r\n    }, {});\r\n\r\n    if (Object.keys(changedData).length === 0) {\r\n      showErrorToast('No changes detected.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.patch(`${BASE_URL}/api/users/profile/update/`, changedData, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n\r\n      showSuccessToast('Profile updated successfully!');\r\n      setOriginalData(profileData);\r\n     \r\n      setTimeout(() => {\r\n        navigate('/profile-detail')\r\n      }, 1000);\r\n    } catch (err) {\r\n      if (err.response?.data?.detail === 'Username already exists.') {\r\n        setErrors((prevErrors) => ({\r\n          ...prevErrors,\r\n          profile: { username: 'Username already exists.' },\r\n        }));\r\n      } else {\r\n        setErrors((prevErrors) => ({\r\n          ...prevErrors,\r\n          profile: { message: 'An error occurred while updating the profile.' },\r\n        }));\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePasswordSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // Validate password data\r\n    const passwordErrors = validatePassword();\r\n    if (Object.keys(passwordErrors).length > 0) {\r\n      setErrors((prevErrors) => ({ ...prevErrors, password: passwordErrors }));\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.patch(`${BASE_URL}/api/users/password/update/`, passwordData, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      showSuccessToast('Password updated successfully!Please Login again!');\r\n      dispatch(logout())\r\n      setTimeout(() => {\r\n        navigate('/login')\r\n      }, 2000);\r\n    } catch (err) {\r\n      // Handle API error responses\r\n      if (err.response?.data?.detail) {\r\n        setErrors((prevErrors) => ({\r\n          ...prevErrors,\r\n          password: { message: err.response.data.detail },\r\n        }));\r\n      } else {\r\n        setErrors((prevErrors) => ({\r\n          ...prevErrors,\r\n          password: { message: 'An error occurred while updating the password.' },\r\n        }));\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-3xl mx-auto p-6 bg-white shadow-md rounded-md mt-8\">\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h2 className=\"text-2xl font-semibold\">Edit Profile</h2>\r\n        <Link to=\"/profile\" className=\"text-blue-500 hover:text-blue-700\">\r\n          Back\r\n        </Link>\r\n      </div>\r\n\r\n      {errors.profile.message && (\r\n        <div className=\"text-red-500 text-center mb-4\">{errors.profile.message}</div>\r\n      )}\r\n\r\n      {/* Profile Update Form */}\r\n      <form onSubmit={handleProfileSubmit} className=\"mb-8\">\r\n        {/* Username Field */}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"username\"\r\n            value={profileData.username}\r\n            onChange={handleProfileChange}\r\n            className=\"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\r\n          />\r\n          {errors.profile.username && (\r\n            <div className=\"text-red-500 text-sm\">{errors.profile.username}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* First Name Field */}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">First Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"first_name\"\r\n            value={profileData.first_name}\r\n            onChange={handleProfileChange}\r\n            className=\"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\r\n          />\r\n          {errors.profile.first_name && (\r\n            <div className=\"text-red-500 text-sm\">{errors.profile.first_name}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Email Field (Read Only) */}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">Email</label>\r\n          <input\r\n            type=\"email\"\r\n            name=\"email\"\r\n            value={profileData.email}\r\n            readOnly\r\n            className=\"mt-1 p-2 block w-full border border-gray-300 rounded-md bg-gray-100 cursor-not-allowed\"\r\n          />\r\n        </div>\r\n\r\n        {/* Bio Field */}\r\n        {/* <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">Bio</label>\r\n          <textarea\r\n            name=\"bio\"\r\n            value={profileData.bio}\r\n            onChange={handleProfileChange}\r\n            className=\"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\r\n          />\r\n        </div> */}\r\n        <BioField \r\n        bio={profileData.bio}\r\n        handleProfileChange={handleProfileChange}\r\n      />\r\n\r\n        {/* Date of Birth Field */}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">Date of Birth</label>\r\n          <input\r\n            type=\"date\"\r\n            name=\"dob\"\r\n            value={profileData.dob}\r\n            onChange={handleProfileChange}\r\n            className=\"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\r\n          />\r\n          {errors.profile.dob && (\r\n            <div className=\"text-red-500 text-sm\">{errors.profile.dob}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Mobile Field */}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">Mobile</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"mobile\"\r\n            value={profileData.mobile}\r\n            onChange={handleProfileChange}\r\n            className=\"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\r\n          />\r\n          {errors.profile.mobile && (\r\n            <div className=\"text-red-500 text-sm\">{errors.profile.mobile}</div>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"px-4 py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600\"\r\n        >\r\n          Update Profile\r\n        </button>\r\n      </form>\r\n\r\n      {/* Password Update Form */}\r\n      <form onSubmit={handlePasswordSubmit}>\r\n        {errors.password.message && (\r\n          <div className=\"text-red-500 text-center mb-4\">{errors.password.message}</div>\r\n        )}\r\n\r\n        {/* Current Password Field */}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">Current Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"current_password\"\r\n            value={passwordData.current_password}\r\n            onChange={handlePasswordChange}\r\n            className=\"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\r\n          />\r\n          {errors.password.current_password && (\r\n            <div className=\"text-red-500 text-sm\">{errors.password.current_password}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* New Password Field */}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">New Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"new_password\"\r\n            value={passwordData.new_password}\r\n            onChange={handlePasswordChange}\r\n            className=\"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\r\n          />\r\n          {errors.password.new_password && (\r\n            <div className=\"text-red-500 text-sm\">{errors.password.new_password}</div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Confirm Password Field */}\r\n        <div className=\"mb-4\">\r\n          <label className=\"block text-sm font-medium text-gray-700\">Confirm New Password</label>\r\n          <input\r\n            type=\"password\"\r\n            name=\"confirm_password\"\r\n            value={passwordData.confirm_password}\r\n            onChange={handlePasswordChange}\r\n            className=\"mt-1 p-2 block w-full border border-gray-300 rounded-md\"\r\n          />\r\n          {errors.password.confirm_password && (\r\n            <div className=\"text-red-500 text-sm\">{errors.password.confirm_password}</div>\r\n          )}\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"px-4 py-2 bg-blue-500 text-white font-semibold rounded-md hover:bg-blue-600\"\r\n        >\r\n          Change Password\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProfilePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}