{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  user: JSON.parse(localStorage.getItem('user')) || null,\n  // Load user from localStorage if available\n  isAuthenticated: !!localStorage.getItem('token') // Check token existence to set authentication status\n};\nconst userSlice = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setUser: (state, action) => {\n      state.user = action.payload;\n      state.isAuthenticated = true;\n      localStorage.setItem('user', JSON.stringify(action.payload)); // Save user details to localStorage\n    },\n    updateUserProfileImage: (state, action) => {\n      if (state.user) {\n        state.user.profile_pic = action.payload; // Update the profile picture\n        localStorage.setItem('user', JSON.stringify(state.user)); // Save updated user details to localStorage\n      }\n    },\n    logout: state => {\n      state.user = null;\n      state.isAuthenticated = false;\n      localStorage.removeItem('user'); // Remove user details from localStorage on logout\n      localStorage.removeItem('token'); // Clear token from localStorage\n    }\n  }\n});\nexport const {\n  setUser,\n  logout,\n  updateUserProfileImage\n} = userSlice.actions;\nexport const userReducer = userSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","user","JSON","parse","localStorage","getItem","isAuthenticated","userSlice","name","reducers","setUser","state","action","payload","setItem","stringify","updateUserProfileImage","profile_pic","logout","removeItem","actions","userReducer","reducer"],"sources":["H:/SecondProject-DjangoReact/frontend/socialmedia-app/src/features/auth/userSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst initialState = {\r\n  user: JSON.parse(localStorage.getItem('user')) || null, // Load user from localStorage if available\r\n  isAuthenticated: !!localStorage.getItem('token'), // Check token existence to set authentication status\r\n};\r\n\r\nconst userSlice = createSlice({\r\n  name: 'user',\r\n  initialState,\r\n  reducers: {\r\n    setUser: (state, action) => {\r\n      state.user = action.payload;\r\n      state.isAuthenticated = true;\r\n\r\n      localStorage.setItem('user', JSON.stringify(action.payload)); // Save user details to localStorage\r\n    },\r\n    updateUserProfileImage: (state, action) => {\r\n      if (state.user) {\r\n        state.user.profile_pic = action.payload; // Update the profile picture\r\n        localStorage.setItem('user', JSON.stringify(state.user)); // Save updated user details to localStorage\r\n      }\r\n    },\r\n    logout: (state) => {\r\n      state.user = null;\r\n      state.isAuthenticated = false;\r\n\r\n      localStorage.removeItem('user'); // Remove user details from localStorage on logout\r\n      localStorage.removeItem('token'); // Clear token from localStorage\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setUser, logout,updateUserProfileImage } = userSlice.actions;\r\nexport const userReducer = userSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAE9C,MAAMC,YAAY,GAAG;EACnBC,IAAI,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,IAAI,IAAI;EAAE;EACxDC,eAAe,EAAE,CAAC,CAACF,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAE;AACpD,CAAC;AAED,MAAME,SAAS,GAAGR,WAAW,CAAC;EAC5BS,IAAI,EAAE,MAAM;EACZR,YAAY;EACZS,QAAQ,EAAE;IACRC,OAAO,EAAEA,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1BD,KAAK,CAACV,IAAI,GAAGW,MAAM,CAACC,OAAO;MAC3BF,KAAK,CAACL,eAAe,GAAG,IAAI;MAE5BF,YAAY,CAACU,OAAO,CAAC,MAAM,EAAEZ,IAAI,CAACa,SAAS,CAACH,MAAM,CAACC,OAAO,CAAC,CAAC,CAAC,CAAC;IAChE,CAAC;IACDG,sBAAsB,EAAEA,CAACL,KAAK,EAAEC,MAAM,KAAK;MACzC,IAAID,KAAK,CAACV,IAAI,EAAE;QACdU,KAAK,CAACV,IAAI,CAACgB,WAAW,GAAGL,MAAM,CAACC,OAAO,CAAC,CAAC;QACzCT,YAAY,CAACU,OAAO,CAAC,MAAM,EAAEZ,IAAI,CAACa,SAAS,CAACJ,KAAK,CAACV,IAAI,CAAC,CAAC,CAAC,CAAC;MAC5D;IACF,CAAC;IACDiB,MAAM,EAAGP,KAAK,IAAK;MACjBA,KAAK,CAACV,IAAI,GAAG,IAAI;MACjBU,KAAK,CAACL,eAAe,GAAG,KAAK;MAE7BF,YAAY,CAACe,UAAU,CAAC,MAAM,CAAC,CAAC,CAAC;MACjCf,YAAY,CAACe,UAAU,CAAC,OAAO,CAAC,CAAC,CAAC;IACpC;EACF;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAET,OAAO;EAAEQ,MAAM;EAACF;AAAuB,CAAC,GAAGT,SAAS,CAACa,OAAO;AAC3E,OAAO,MAAMC,WAAW,GAAGd,SAAS,CAACe,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}